Patch-Source: https://gitlab.gnome.org/GNOME/libxml2/-/commit/52f5570782b9d8963ec4739777224320af8f0a5f
--
From 52f5570782b9d8963ec4739777224320af8f0a5f Mon Sep 17 00:00:00 2001
From: Nick Wellnhofer <wellnhofer@aevum.de>
Date: Mon, 17 Jun 2024 14:37:54 +0200
Subject: [PATCH] reader: Fix xmlTextReaderReadString

Regressed in commit 7cbf609a.

Should fix #738.
---
 xmlreader.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/xmlreader.c b/xmlreader.c
index 2de91bf96..a7328e182 100644
--- a/xmlreader.c
+++ b/xmlreader.c
@@ -1748,7 +1748,10 @@ xmlTextReaderReadString(xmlTextReaderPtr reader)
     switch (node->type) {
         case XML_TEXT_NODE:
         case XML_CDATA_SECTION_NODE:
+            break;
         case XML_ELEMENT_NODE:
+            if (xmlTextReaderDoExpand(reader) == -1)
+                return(NULL);
             break;
         case XML_ATTRIBUTE_NODE:
             /* TODO */
-- 
GitLab

